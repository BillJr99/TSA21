{% extends 'default/template.html' %} 
{% load static %}
{% block top %}
<title>Lichess | Medicomm &copy;</title>

<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
<meta name="keywords" content="Medicomm, Medicomm.org, medicomm, organization, company, Medicine, Telecommunications, medical communications, medical, telemedicine, telemed, medicomm org, medicomm .org" />
<meta name="description" content="Medicomm is a medical telecommunications company dedicated to producing medical utilities and equipment for all companies, big or small!  Join or partner with us today" />
<meta name="theme-color" content="#ffffff" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="organization" />
<meta property="og:title" content="Medicomm Telecommunications" />
<meta property="og:description" content="Medicomm is a medical telecommunications company dedicated to producing medical utilities and equipment for all companies, big or small!  Join or partner with us today" />
<meta property="og:url" content="http://virtevent.herokuapp.com/" />
<meta property="og:site_name" content="Medicomm" />
<meta name="og:image" content="/assets/images/Logo.png" />

<link rel="icon" type="image/png" href="{% static 'default/assets/images/Logo.png' %}" sizes="16x16" />
<link rel="icon" type="image/png" href="{% static 'default/assets/images/medicomm_favicon_32.png' %}" sizes="32x32" />
<link rel="apple-touch-icon" type="image/png" href="{% static 'default/assets/images/medicomm_favicon_180.png' %}" sizes="180x180" />
<link rel="icon" type="image/png" href="{% static 'default/assets/images/medicomm_favicon_192.png' %}" sizes="192x192" />
<meta name="msapplication-TileColor" content="#ffffff" />
<meta name="msapplication-TileImage" content="{% static 'default/assets/images/medicomm_favicon_270.png' %}" />

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous" />
<link rel="stylesheet" type="text/css" href="{% static 'default/CSS/content.css' %}" media="all" />
<link rel="stylesheet" type="text/css" href="{% static 'default/CSS/form.css' %}" media="all" />
<link rel="stylesheet" type="text/css" href="{% static 'default/CSS/style.css' %}" media="all" />

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.10/typed.min.js"></script>
{% endblock %} 
{% block body %} 
<div class="container px-4 py-5" id="custom-cards">
	<h2 class="pb-2 border-bottom">Lichess Stats</h2>
	
	<div class="row row-cols-1 row-cols-lg-3 align-items-stretch g-4 py-5">
	<div onclick="window.location.href='https://lichess.org/training/'" class="col">
	<div class="card card-cover h-100 overflow-hidden text-white bg-dark rounded-5 shadow-lg" style="background-image: url({% static 'default/images/puzzles.png' %});">
	<div class="d-flex flex-column h-100 p-5 pb-3 text-white text-shadow-1">
	<h2 id="puzzle" class="pt-5 mt-5 mb-4 display-6 lh-1 fw-bold"></h2>
	<ul class="d-flex list-unstyled mt-auto">
	<li class="me-auto">
	<img src="{% static 'default/images/lichesslogo.png' %}" alt="Lichess" width="32" height="32" class="rounded-circle border border-white">
	</li>
	<li class="d-flex align-items-center me-3">
	<svg class="bi me-2" width="1em" height="1em"><use xlink:href="#geo-fill"/></svg>
	<small>Lichess</small>
	</li>
	<li class="d-flex align-items-center">
	<svg class="bi me-2" width="1em" height="1em"><use xlink:href="#arrow-right-short"/></svg>
	<small>(Click Here)</small>
	</li>
	</ul>
	</div>
	</div>
	</div>
    <div onclick="window.location.href='https://lichess.org/rapid/'"class="col">
        <div class="card card-cover h-100 overflow-hidden text-white bg-dark rounded-5 shadow-lg" style="background-image: url({% static 'default/images/rapid.jfif' %});">
        <div class="d-flex flex-column h-100 p-5 pb-3 text-white text-shadow-1">
        <h2 id="rapid" class="pt-5 mt-5 mb-4 display-6 lh-1 fw-bold"></h2>
        <ul class="d-flex list-unstyled mt-auto">
        <li class="me-auto">
        <img src="{% static 'default/images/lichesslogo.png' %}" alt="Lichess" width="32" height="32" class="rounded-circle border border-white">
        </li>
        <li class="d-flex align-items-center me-3">
        <svg class="bi me-2" width="1em" height="1em"><use xlink:href="#geo-fill"/></svg>
        <small>Lichess</small>
        </li>
        <li class="d-flex align-items-center">
        <svg class="bi me-2" width="1em" height="1em"><use xlink:href="#arrow-right-short"/></svg>
        <small>(Click Here)</small>
        </li>
        </ul>
        </div>
        </div>
        </div>
        <div onclick="window.location.href='https://lichess.org/classical'" class="col">
            <div class="card card-cover h-100 overflow-hidden text-white bg-dark rounded-5 shadow-lg" style="background-image: url({% static 'default/images/classical.jpg' %});">
            <div class="d-flex flex-column h-100 p-5 pb-3 text-white text-shadow-1">
            <h2 id="classical" class="pt-5 mt-5 mb-4 display-6 lh-1 fw-bold"></h2>
            <ul class="d-flex list-unstyled mt-auto">
            <li class="me-auto">
            <img src="{% static 'default/images/lichesslogo.png' %}" alt="Lichess" width="32" height="32" class="rounded-circle border border-white">
            </li>
            <li class="d-flex align-items-center me-3">
            <svg class="bi me-2" width="1em" height="1em"><use xlink:href="#geo-fill"/></svg>
            <small>Lichess</small>
            </li>
            <li class="d-flex align-items-center">
            <svg class="bi me-2" width="1em" height="1em"><use xlink:href="#arrow-right-short"/></svg>
            <small>(Click Here)</small>
            </li>
            </ul>
            </div>
            </div>
            </div>
            </div>
            </div>
<script>
    var input = JSON.parse("{{username|escapejs}}");
    var name = input.username
    document.addEventListener('DOMContentLoaded', function() {
        fetch("https://lichess.org/api/user/" + name)
        .then(response => response.json())
        .then(data => {
            var puzzlesoutput;
            var rapidoutput;
            var classicaloutput;
            if (data.perfs.puzzle.games == 0) {
                puzzlesoutput = "No Puzzles Attempted";
            } else {
                puzzlesoutput = "Puzzle Rating: " + data.perfs.puzzle.rating;
            }
            if (data.perfs.rapid.games == 0) {
                rapidoutput = "No Rapid Games Played";
            } else {
                rapidoutput = "Rapid Rating: " + data.perfs.rapid.rating;
            }
            if (data.perfs.classical.games == 0) {
                classicaloutput = "No Classical Games Played";
            } else {
                classicaloutput = "Classical Output: " + data.perfs.classical.rating;
            }
            document.querySelector('#puzzle').innerHTML = puzzlesoutput;
            document.querySelector('#rapid').innerHTML = rapidoutput;
            document.querySelector('#classical').innerHTML = classicaloutput;

        })
    })
</script>
{% endblock %}